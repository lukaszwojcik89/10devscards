---
import Layout from "../layouts/Layout.astro";
import { DashboardContainer } from "../components/dashboard/DashboardContainer";

export const prerender = false;

// Authorization check - redirect to login if not authenticated
const authToken = Astro.cookies.get("access_token")?.value;

if (!authToken) {
  return Astro.redirect("/login", 302);
}

// SEO metadata for dashboard
const pageTitle = "Dashboard - AI Flashcards";
---

<Layout title={pageTitle}>
  <main class="container mx-auto px-4 py-8 min-h-screen">
    <div class="max-w-6xl mx-auto">
      <!-- Dashboard Container with client-side hydration -->
      <DashboardContainer client:load />
    </div>
  </main>
</Layout>
